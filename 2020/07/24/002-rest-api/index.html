<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Building RESTful web services | Quarkus</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="In this post we are going to learn how to build RESTful web services using Quarkus. Let’s start using the project we created in the last post. We are going to implement the following endpoints:    HTT">
<meta property="og:type" content="article">
<meta property="og:title" content="Building RESTful web services">
<meta property="og:url" content="https://enriquezrene.github.io/quarkus/2020/07/24/002-rest-api/index.html">
<meta property="og:site_name" content="Quarkus">
<meta property="og:description" content="In this post we are going to learn how to build RESTful web services using Quarkus. Let’s start using the project we created in the last post. We are going to implement the following endpoints:    HTT">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-07-25T01:37:27.000Z">
<meta property="article:modified_time" content="2020-07-31T05:03:45.536Z">
<meta property="article:author" content="Rene Enriquez">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/quarkus/atom.xml" title="Quarkus" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/style.css">
  
  
<link rel="stylesheet" href="/quarkus/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/quarkus/" id="logo">Quarkus</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/quarkus/" id="subtitle">Tips and Tricks</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/quarkus/">Home</a>
        
          <a class="main-nav-link" href="/quarkus/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/quarkus/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://enriquezrene.github.io/quarkus"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-002-rest-api" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/quarkus/2020/07/24/002-rest-api/" class="article-date">
  <time datetime="2020-07-25T01:37:27.000Z" itemprop="datePublished">2020-07-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Building RESTful web services
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In this post we are going to learn how to build RESTful web services using Quarkus. Let’s start using the project we created in the <a href="../../../07/23/001-scaffold/">last post.</a></p>
<p>We are going to implement the following endpoints:</p>
<table>
<thead>
<tr>
<th>HTTP METHOD</th>
<th>Path</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>POST</td>
<td>/products</td>
<td>Creates a new product</td>
</tr>
<tr>
<td>PUT</td>
<td>/products/{id}</td>
<td>Updates an existing product</td>
</tr>
<tr>
<td>GET</td>
<td>/products</td>
<td>Gets all the products</td>
</tr>
<tr>
<td>DELETE</td>
<td>/products/{id}</td>
<td>Deletes an existing product</td>
</tr>
</tbody></table>
<p>Quarkus uses JAX-RS to define rest endpoints so the implementation is going to be trivial. What we will need are the following annotations:</p>
<ol>
<li><code>javax.ws.rs.Path</code> annotation to define the required path for the endpoints (<code>/products</code>)</li>
<li><code>javax.ws.rs.HTTP_METHOD</code> annotation where <code>HTTP_METHOD</code> can be POST, PUT, GET, DELETE</li>
<li><code>javax.ws.rs.PathParam</code> annotation to get the values in the URL. This is going to be needed for updating and removing products.</li>
</ol>
<p>In order to allow Quarkus consume and produce information using a JSON format, we need to add an additional dependency as follows:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.quarkus<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>quarkus-resteasy-jsonb<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The implementation is going to save the information in memory only so no databases needed for now. This is how our implementation will look like:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Path</span>(<span class="string">"/products"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductsResource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Product&gt; products;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProductsResource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        products = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        products.add(<span class="keyword">new</span> Product(<span class="string">"product-1"</span>, <span class="string">"notebook"</span>));</span><br><span class="line">        products.add(<span class="keyword">new</span> Product(<span class="string">"product-2"</span>, <span class="string">"mouse"</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET</span></span><br><span class="line">    <span class="meta">@Produces</span>(MediaType.APPLICATION_JSON)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Response <span class="title">getAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Response.status(Status.OK).entity(<span class="keyword">this</span>.products).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@POST</span></span><br><span class="line">    <span class="meta">@Consumes</span>(MediaType.APPLICATION_JSON)</span><br><span class="line">    <span class="meta">@Produces</span>(MediaType.APPLICATION_JSON)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Response <span class="title">add</span><span class="params">(Product product)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.products.add(product);</span><br><span class="line">        <span class="keyword">return</span> Response.status(Status.OK).entity(product).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PUT</span></span><br><span class="line">    <span class="meta">@Path</span>(<span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="meta">@Consumes</span>(MediaType.APPLICATION_JSON)</span><br><span class="line">    <span class="meta">@Produces</span>(MediaType.APPLICATION_JSON)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Response <span class="title">update</span><span class="params">(@PathParam(<span class="string">"id"</span>)</span> String id, Product product) </span>&#123;</span><br><span class="line">        Optional&lt;Product&gt; productToUpdate = findProductById(id);</span><br><span class="line">        <span class="keyword">if</span> (productToUpdate.isPresent()) &#123;</span><br><span class="line">            products.remove(productToUpdate.get());</span><br><span class="line">            products.add(product);</span><br><span class="line">            <span class="keyword">return</span> Response.status(Status.OK).entity(product).build();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> Response.status(Status.NOT_FOUND).build();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DELETE</span></span><br><span class="line">    <span class="meta">@Path</span>(<span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Response <span class="title">delete</span><span class="params">(@PathParam(<span class="string">"id"</span>)</span> String id) </span>&#123;</span><br><span class="line">        Optional&lt;Product&gt; productToRemove = findProductById(id);</span><br><span class="line">        <span class="keyword">if</span> (productToRemove.isPresent()) &#123;</span><br><span class="line">            products.remove(productToRemove.get());</span><br><span class="line">            <span class="keyword">return</span> Response.status(Status.OK).build();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> Response.status(Status.NOT_FOUND).build();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Optional&lt;Product&gt; <span class="title">findProductById</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.products.stream()</span><br><span class="line">                .filter(product -&gt; id.equals(product.getId()))</span><br><span class="line">                .findFirst();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>All the above-used annotations are part of JAX-RS, it means you don’t need to learn anything new. Quarkus uses the standard annotations that you already know.</p>
<h2 id="Testing-our-RESTful-web-services"><a href="#Testing-our-RESTful-web-services" class="headerlink" title="Testing our RESTful web services"></a>Testing our RESTful web services</h2><p>Let’s try the implemented web services using CURL commands:</p>
<h3 id="Creating-a-product"><a href="#Creating-a-product" class="headerlink" title="Creating a product"></a>Creating a product</h3><p>For this operation, we are going to use the POST HTTP method:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --location --request POST <span class="string">'http://localhost:8080/products'</span> -d <span class="string">'&#123;"id": "product-3", "name": "iPhone"&#125;'</span> --header <span class="string">'Content-Type: application/json'</span></span><br></pre></td></tr></table></figure>
<p>You will get the following response:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">"id"</span>:<span class="string">"product-3"</span>,<span class="string">"name"</span>:<span class="string">"iPhone"</span>&#125;</span><br><span class="line">status=200  size=34 time=0.112 content-type=<span class="string">"application/json"</span></span><br></pre></td></tr></table></figure>

<h2 id="Updating-a-product"><a href="#Updating-a-product" class="headerlink" title="Updating a product"></a>Updating a product</h2><p>For this operation, we are going to use the PUT HTTP method, notice how the URL contains the product id that is going to be updated (<code>product-3</code>):</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --location --request PUT <span class="string">'http://localhost:8080/products/product-3'</span> -d <span class="string">'&#123;"id": "product-3", "name": "guitar"&#125;'</span> --header <span class="string">'Content-Type: application/json'</span></span><br></pre></td></tr></table></figure>
<p>You will get the following response:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">"id"</span>:<span class="string">"product-3"</span>,<span class="string">"name"</span>:<span class="string">"guitar"</span>&#125;</span><br><span class="line">status=200  size=34 time=0.020 content-type=<span class="string">"application/json"</span></span><br></pre></td></tr></table></figure>

<h2 id="Getting-all-the-products-stored"><a href="#Getting-all-the-products-stored" class="headerlink" title="Getting all the products stored"></a>Getting all the products stored</h2><p>For this operation, we are going to use the GET HTTP method:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --location --request GET <span class="string">'http://localhost:8080/products'</span></span><br></pre></td></tr></table></figure>
<p>You will get the following response:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&#123;<span class="string">"id"</span>:<span class="string">"product-1"</span>,<span class="string">"name"</span>:<span class="string">"notebook"</span>&#125;,&#123;<span class="string">"id"</span>:<span class="string">"product-2"</span>,<span class="string">"name"</span>:<span class="string">"mouse"</span>&#125;,&#123;<span class="string">"id"</span>:<span class="string">"product-3"</span>,<span class="string">"name"</span>:<span class="string">"guitar"</span>&#125;]</span><br><span class="line">status=200  size=107 time=0.029 content-type=<span class="string">"application/json"</span></span><br></pre></td></tr></table></figure>

<h2 id="Removing-an-existing-product"><a href="#Removing-an-existing-product" class="headerlink" title="Removing an existing product"></a>Removing an existing product</h2><p>For this operation, we are going to use the DELETE HTTP method, notice how the URL contains the product id that is going to be deleted (<code>product-1</code>):</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --location --request DELETE <span class="string">'http://localhost:8080/products/product-1'</span></span><br></pre></td></tr></table></figure>
<p>You will get the following response:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">status=200  size=0 time=0.016</span><br></pre></td></tr></table></figure>

<p>In this way, we already tested all the implemented functionality. That’s all folks!</p>

      
    </div>
    <footer class="article-footer">
      <div style="text-align: right;">
        <span id="visits">Visits: <font class="count">--<font></span>
        <span id="pageviews">&nbsp;Pageviews: <font class="count">--<font></span>
      </div>
      <a data-url="https://enriquezrene.github.io/quarkus/2020/07/24/002-rest-api/" data-id="ckd9s1q0600000hstdcgk83jh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/quarkus/2020/07/23/001-scaffold/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Scaffolding a Quarkus Application</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/quarkus/tags/quarkus-maven-gradle/" rel="tag">quarkus, maven, gradle</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/quarkus/tags/quarkus-maven-gradle/" style="font-size: 10px;">quarkus, maven, gradle</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/quarkus/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/quarkus/2020/07/24/002-rest-api/">Building RESTful web services</a>
          </li>
        
          <li>
            <a href="/quarkus/2020/07/23/001-scaffold/">Scaffolding a Quarkus Application</a>
          </li>
        
          <li>
            <a href="/quarkus/2020/07/23/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Rene Enriquez<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/quarkus/" class="mobile-nav-link">Home</a>
  
    <a href="/quarkus/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.6.1/firebase.js"></script>
<script src="/quarkus/js/src/custom.js"></script>


  
<link rel="stylesheet" href="/quarkus/fancybox/jquery.fancybox.css">

  
<script src="/quarkus/fancybox/jquery.fancybox.pack.js"></script>




<script src="/quarkus/js/script.js"></script>




  </div>
</body>
</html>